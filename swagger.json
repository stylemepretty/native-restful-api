{
  "swagger" : "2.0",
  "info" : {
    "version" : "0.0.1",
    "title" : "SMP Native REST API",
    "contact" : {
      "email" : "adam@stylemepretty.com"
    }
  },
  "host" : "10.98.192.9",
  "tags" : [ {
    "name" : "gallery"
  }, {
    "name" : "image"
  }, {
    "name" : "user"
  }, {
    "name" : "vendor"
  }, {
    "name" : "search"
  }, {
    "name" : "public"
  }, {
    "name" : "authenticated",
    "description" : "Requires authorization header"
  }, {
    "name" : "working",
    "description" : "Meets documented spec"
  }, {
    "name" : "complete",
    "description" : "Dev complete"
  }, {
    "name" : "fake",
    "description" : "Contains fake data"
  } ],
  "produces" : [ "application/json" ],
  "paths" : {
    "/api/v2/galleries" : {
      "get" : {
        "tags" : [ "gallery", "public", "working", "fake" ],
        "summary" : "Get galleries in descending order for user matching authorization header or search for galleries by providing one or both detail and vendor query paramters",
        "schemes" : [ "https", "http" ],
        "parameters" : [ {
          "name" : "perPage",
          "in" : "query",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "last",
          "in" : "query",
          "description" : "Filter galleries with an ID less than",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "vendor",
          "in" : "query",
          "description" : "Filter galleries credited by a `Vendor`",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "detail",
          "in" : "query",
          "description" : "Filter galleries with associated `Detail`",
          "required" : false,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200"
            }
          }
        }
      }
    },
    "/api/v2/gallery/{id}" : {
      "get" : {
        "tags" : [ "gallery", "public", "working", "fake" ],
        "summary" : "Get a single gallery",
        "schemes" : [ "http", "https" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_1"
            }
          },
          "404" : {
            "description" : "Gallery not found",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/image/{id}" : {
      "get" : {
        "tags" : [ "image", "public", "working", "complete" ],
        "summary" : "Get a single image",
        "schemes" : [ "http", "https" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_2"
            }
          },
          "404" : {
            "description" : "Image not found",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/search/top" : {
      "get" : {
        "tags" : [ "search", "public" ],
        "summary" : "Get most popular queries",
        "schemes" : [ "http", "https" ],
        "parameters" : [ ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_3"
            }
          }
        }
      }
    },
    "/api/v2/search/{taxonomy}" : {
      "get" : {
        "tags" : [ "search", "public" ],
        "summary" : "Search objects in descending order matching one or both query or lat and long query paramters",
        "schemes" : [ "http", "https" ],
        "parameters" : [ {
          "name" : "taxonomy",
          "in" : "path",
          "required" : true,
          "type" : "string",
          "enum" : [ "vendor", "image", "gallery" ]
        }, {
          "name" : "query",
          "in" : "query",
          "required" : false,
          "type" : "string"
        }, {
          "name" : "lat",
          "in" : "query",
          "description" : "Latitude point",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "lng",
          "in" : "query",
          "description" : "Longitude point",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "perPage",
          "in" : "query",
          "required" : false,
          "type" : "integer"
        }, {
          "name" : "last",
          "in" : "query",
          "description" : "Filter objects with an ID less than",
          "required" : false,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_4"
            }
          }
        }
      }
    },
    "/api/v2/user" : {
      "get" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Get details about user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_5"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "404" : {
            "description" : "User not found",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "post" : {
        "tags" : [ "user", "public" ],
        "summary" : "Create user",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "email",
          "in" : "formData",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "password",
          "in" : "formData",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "201" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/UserPreview"
            }
          },
          "500" : {
            "description" : "Failed response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "put" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Save details about user matching authorization header",
        "schemes" : [ "https" ],
        "consumes" : [ "application/json" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_5"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "404" : {
            "description" : "User not found",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Failed response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/auth" : {
      "post" : {
        "tags" : [ "user", "working" ],
        "summary" : "Get access token",
        "schemes" : [ "https" ],
        "consumes" : [ "application/x-www-form-urlencoded" ],
        "parameters" : [ {
          "name" : "email",
          "in" : "formData",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "password",
          "in" : "formData",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/UserPreview"
            }
          },
          "403" : {
            "description" : "Failed login",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/favorite" : {
      "get" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Get favorites for user matching authorization token",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_6"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "post" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Favorite an object for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "query",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "id",
          "in" : "query",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_6"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Unfavorite object for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "query",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "id",
          "in" : "query",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_6"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/favorite/{taxonomy}" : {
      "get" : {
        "tags" : [ "user", "authenticated" ],
        "summary" : "Get objects matching taxonomy favorited by user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "path",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "query",
          "in" : "query",
          "required" : false,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_7"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/follow" : {
      "get" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Get all objects beign followed for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Value must be formatted like so \"Bearer <Access Token>\"",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Succesfull response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_8"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "post" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Follow a object for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "query",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "id",
          "in" : "query",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_8"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Failed response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Unfollow object for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "query",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "id",
          "in" : "query",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_8"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          },
          "500" : {
            "description" : "Failed response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/follow/recommended" : {
      "get" : {
        "tags" : [ "user", "authenticated", "working", "fake" ],
        "summary" : "Get recommended objects for user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_9"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/follow/{taxonomy}" : {
      "get" : {
        "tags" : [ "user", "authenticated" ],
        "summary" : "Get objects matching taxonomy followed by user matching authorization header",
        "schemes" : [ "https" ],
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "taxonomy",
          "in" : "path",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "query",
          "in" : "query",
          "required" : false,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_7"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/user/token/validate" : {
      "post" : {
        "tags" : [ "user", "authenticated" ],
        "summary" : "Get status of authorization token header",
        "parameters" : [ {
          "name" : "HTTP_AUTHORIZATION",
          "in" : "header",
          "description" : "Bearer <Access Token>",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_10"
            }
          },
          "403" : {
            "description" : "Unauthorized response",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    },
    "/api/v2/vendor/{id}" : {
      "get" : {
        "tags" : [ "vendor", "public" ],
        "summary" : "Get a single vendor",
        "schemes" : [ "http", "https" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Successful response",
            "schema" : {
              "$ref" : "#/definitions/inline_response_200_11"
            }
          },
          "404" : {
            "description" : "Vendor not found",
            "schema" : {
              "$ref" : "#/definitions/Error"
            }
          }
        }
      }
    }
  },
  "definitions" : {
    "Error" : {
      "type" : "object",
      "properties" : {
        "code" : {
          "type" : "string"
        },
        "message" : {
          "type" : "string"
        }
      }
    },
    "UserPreview" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer"
        },
        "username" : {
          "type" : "string"
        },
        "email" : {
          "type" : "string"
        }
      }
    },
    "User" : {
      "allOf" : [ {
        "$ref" : "#/definitions/UserPreview"
      }, {
        "type" : "object",
        "properties" : {
          "wedding_date" : {
            "type" : "string"
          },
          "full_name" : {
            "type" : "string"
          }
        }
      } ]
    },
    "Followable" : {
      "type" : "object",
      "required" : [ "id", "name", "taxonomy" ],
      "discriminator" : "taxonomy",
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "id" : {
          "type" : "integer"
        },
        "taxonomy" : {
          "type" : "string",
          "enum" : [ "season", "style", "setting", "location", "category", "vendor", "gallery" ]
        }
      }
    },
    "Favoriteable" : {
      "type" : "object",
      "required" : [ "id", "taxonomy" ],
      "discriminator" : "taxonomy",
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "id" : {
          "type" : "integer"
        },
        "taxonomy" : {
          "type" : "string",
          "enum" : [ "image" ]
        }
      }
    },
    "VendorPreview" : {
      "allOf" : [ {
        "$ref" : "#/definitions/Followable"
      }, {
        "type" : "object",
        "properties" : {
          "type" : {
            "type" : "string"
          },
          "is_lbb" : {
            "type" : "boolean",
            "description" : "Is Little Black Book vendor"
          }
        }
      } ]
    },
    "Vendor" : {
      "allOf" : [ {
        "$ref" : "#/definitions/VendorPreview"
      }, {
        "type" : "object",
        "properties" : {
          "url" : {
            "type" : "string"
          },
          "thumb" : {
            "type" : "string"
          },
          "description" : {
            "type" : "string"
          }
        }
      } ]
    },
    "ImagePreview" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer"
        },
        "gid" : {
          "type" : "integer",
          "description" : "Gallery ID"
        },
        "path" : {
          "type" : "string"
        },
        "width" : {
          "type" : "integer"
        },
        "height" : {
          "type" : "integer"
        }
      }
    },
    "Image" : {
      "allOf" : [ {
        "$ref" : "#/definitions/ImagePreview"
      }, {
        "type" : "object",
        "properties" : {
          "tags" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "vendors" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/VendorPreview"
            }
          }
        }
      } ]
    },
    "GalleryPreview" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "integer"
        },
        "title" : {
          "type" : "string"
        },
        "thumb" : {
          "type" : "string"
        }
      }
    },
    "Gallery" : {
      "allOf" : [ {
        "$ref" : "#/definitions/GalleryPreview"
      }, {
        "type" : "object",
        "properties" : {
          "post_url" : {
            "type" : "string"
          },
          "details" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/Detail"
            }
          },
          "vendors" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/VendorPreview"
            }
          },
          "images" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/definitions/ImagePreview"
            }
          }
        }
      } ]
    },
    "Detail" : {
      "allOf" : [ {
        "$ref" : "#/definitions/Followable"
      }, {
        "type" : "object"
      } ],
      "description" : "Gallery level tag"
    },
    "inline_response_200_data" : {
      "properties" : {
        "total" : {
          "type" : "integer"
        },
        "perPage" : {
          "type" : "integer"
        },
        "last" : {
          "type" : "integer"
        },
        "results" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/GalleryPreview"
          }
        }
      }
    },
    "inline_response_200" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/inline_response_200_data"
        }
      }
    },
    "inline_response_200_1" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/Gallery"
        }
      }
    },
    "inline_response_200_2" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/Image"
        }
      }
    },
    "inline_response_200_3" : {
      "properties" : {
        "data" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        }
      }
    },
    "inline_response_200_4_data" : {
      "properties" : {
        "perPage" : {
          "type" : "integer",
          "description" : "Integer matching perPage request parameter or default value"
        },
        "last" : {
          "type" : "integer",
          "description" : "The `Gallery` object ID matching request parameter or null"
        },
        "results" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "properties" : { }
          }
        }
      }
    },
    "inline_response_200_4" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/inline_response_200_4_data"
        }
      }
    },
    "inline_response_200_5" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/User"
        }
      }
    },
    "inline_response_200_6" : {
      "properties" : {
        "data" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Favoriteable"
          }
        }
      }
    },
    "inline_response_200_7" : {
      "properties" : {
        "data" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "properties" : { }
          }
        }
      }
    },
    "inline_response_200_8" : {
      "properties" : {
        "data" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Followable"
          }
        }
      }
    },
    "inline_response_200_9" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/Followable"
        }
      }
    },
    "inline_response_200_10_data" : {
      "properties" : {
        "status" : {
          "type" : "integer"
        }
      }
    },
    "inline_response_200_10" : {
      "properties" : {
        "code" : {
          "type" : "string",
          "description" : "jwt_auth_valid_token"
        },
        "data" : {
          "$ref" : "#/definitions/inline_response_200_10_data"
        }
      }
    },
    "inline_response_200_11" : {
      "properties" : {
        "data" : {
          "$ref" : "#/definitions/Vendor"
        }
      }
    }
  }
}